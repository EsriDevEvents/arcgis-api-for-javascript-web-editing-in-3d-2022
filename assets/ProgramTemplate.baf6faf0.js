import{on as c}from"./vendor.1dc52be5.js";class u{constructor(e){this.readFile=e}resolveIncludes(e){return this._resolve(e)}_resolve(e,r=new Map){if(r.has(e))return r.get(e);const s=this._read(e);if(!s)throw new Error(`cannot find shader file ${e}`);const o=/^[^\S\n]*#include\s+<(\S+)>[^\S\n]?/gm;let t=o.exec(s);const i=[];for(;t!=null;)i.push({path:t[1],start:t.index,length:t[0].length}),t=o.exec(s);let h=0,n="";return i.forEach(a=>{n+=s.slice(h,a.start),n+=r.has(a.path)?"":this._resolve(a.path,r),h=a.start+a.length}),n+=s.slice(h),r.set(e,n),n}_read(e){return this.readFile(e)}}function f(l,e,r=""){return new c(l,r+e.shaders.vertexShader,r+e.shaders.fragmentShader,e.attributes)}export{f as a,u as e};
